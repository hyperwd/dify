# -------------------------------------------------------------------------
# Dify AlmaLinux 9 环境配置模板
# 部署时请根据实际情况修改 SERVER_IP
# -------------------------------------------------------------------------

# 服务器IP地址 - 必须设置为你的虚拟机或服务器IP
SERVER_IP=YOUR_SERVER_IP_HERE

# 基础配置
SECRET_KEY=sk-9f73s3ljTXVcMT3Blb3ljTqtsKiGHXVcMT3BlbkFJLK7U
DEPLOY_ENV=PRODUCTION
LOG_LEVEL=INFO

# 数据库配置
DATABASE_URL=postgresql://postgres:difyai123@db:5432/dify

# Redis 配置（无密码）
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/1

# 前端访问地址（自动根据SERVER_IP生成）
CONSOLE_API_URL=http://${SERVER_IP}:5001
CONSOLE_WEB_URL=http://${SERVER_IP}:3000
APP_API_URL=http://${SERVER_IP}:5001
APP_WEB_URL=http://${SERVER_IP}:3000

# 向量数据库配置
VECTOR_STORE=weaviate
WEAVIATE_ENDPOINT=http://weaviate:8080

# 存储配置
STORAGE_TYPE=local
STORAGE_LOCAL_PATH=storage

# 代码执行配置
CODE_EXECUTION_ENDPOINT=http://sandbox:8194
CODE_EXECUTION_API_KEY=dify-sandbox
CODE_EXECUTION_TIMEOUT=15
CODE_EXECUTION_CONNECTION_TIMEOUT=10

# 代码执行限制
CODE_MAX_NUMBER=9223372036854775807
CODE_MIN_NUMBER=-9223372036854775808
CODE_STRING_MAX_LENGTH=80000
CODE_MAX_STRING_ARRAY_LENGTH=1000
CODE_MAX_OBJECT_ARRAY_LENGTH=1000
CODE_MAX_NUMBER_ARRAY_LENGTH=1000
CODE_MAX_STRING_OBJECT_LENGTH=1000
CODE_MAX_NUMBER_OBJECT_LENGTH=1000
CODE_MAX_DEPTH=5

# 模型配置
OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_API_KEY=

# 加密配置
ENCRYPTION_KEY=

# CORS 配置
WEB_API_CORS_ALLOW_ORIGINS=*